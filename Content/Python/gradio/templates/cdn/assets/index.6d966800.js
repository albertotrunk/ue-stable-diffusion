import{S as T,i as q,s as G,c as C,a as F,A as K,m as M,f as v,C as H,k as A,D as J,j as D,o as S,n as w,e as p,b as g,g as m,w as P,t as B,h as U,B as W,E as le,a7 as te,H as Y,N as Z,K as y,O as ie,X as ne,P as fe,Q as oe,R as ae,T as re,J as O}from"./index.62d61aa4.js";import{B as x}from"./BlockLabel.daa4d803.js";import{F as L}from"./File.512aa11b.js";import{U as $}from"./Upload.b0343c69.js";import{M as se}from"./ModifyUpload.4ac5682b.js";import{B as ue}from"./Block.a2be3f63.js";import{n as _e}from"./utils.27234e1d.js";import"./styles.ed3b21b5.js";const ce=o=>{let e=["B","KB","MB","GB","PB"],n=0;for(;o>1024;)o/=1024,n++;let l=e[n];return o.toFixed(1)+" "+l},j=o=>{var e;return e=o.orig_name||o.name,e.length>30?`${e.substr(0,30)}...`:e},E=o=>o.data,I=o=>{var e=0;if(Array.isArray(o))for(var n of o)n.size!==void 0&&(e+=n.size);else e=o.size||0;return ce(e)};function Q(o,e,n){const l=o.slice();return l[4]=e[n],l}function de(o){let e,n,l,t;return l=new L({}),{c(){e=p("div"),n=p("div"),C(l.$$.fragment),g(n,"class","h-5 dark:text-white opacity-50"),g(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(a,f){v(a,e,f),m(e,n),M(l,n,null),t=!0},p:P,i(a){t||(D(l.$$.fragment,a),t=!0)},o(a){A(l.$$.fragment,a),t=!1},d(a){a&&w(e),S(l)}}}function be(o){let e,n;function l(f,s){return s&1&&(n=null),n==null&&(n=!!Array.isArray(f[0])),n?ge:me}let t=l(o,-1),a=t(o);return{c(){e=p("div"),a.c(),g(e,"class","file-preview overflow-y-scroll w-full max-h-60 flex flex-col justify-between mt-7 mb-7 dark:text-slate-200")},m(f,s){v(f,e,s),a.m(e,null)},p(f,s){t===(t=l(f,s))&&a?a.p(f,s):(a.d(1),a=t(f),a&&(a.c(),a.m(e,null)))},i:P,o:P,d(f){f&&w(e),a.d()}}}function me(o){let e,n,l=j(o[0])+"",t,a,f,s=I(o[0])+"",u,d,i,r,c,b,z;return{c(){e=p("div"),n=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),i=p("div"),r=p("a"),c=B("Download"),g(n,"class","file-name w-5/12 p-2"),g(f,"class","file-size w-3/12 p-2"),g(r,"href",b=E(o[0])),g(r,"download",z=j(o[0])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(i,"class","file-size w-3/12 p-2 hover:underline"),g(e,"class","flex flex-row")},m(k,_){v(k,e,_),m(e,n),m(n,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,i),m(i,r),m(r,c)},p(k,_){_&1&&l!==(l=j(k[0])+"")&&U(t,l),_&1&&s!==(s=I(k[0])+"")&&U(u,s),_&1&&b!==(b=E(k[0]))&&g(r,"href",b),_&1&&z!==(z=j(k[0]))&&g(r,"download",z)},d(k){k&&w(e)}}}function ge(o){let e,n=o[0],l=[];for(let t=0;t<n.length;t+=1)l[t]=R(Q(o,n,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=K()},m(t,a){for(let f=0;f<l.length;f+=1)l[f].m(t,a);v(t,e,a)},p(t,a){if(a&1){n=t[0];let f;for(f=0;f<n.length;f+=1){const s=Q(t,n,f);l[f]?l[f].p(s,a):(l[f]=R(s),l[f].c(),l[f].m(e.parentNode,e))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}},d(t){W(l,t),t&&w(e)}}}function R(o){let e,n,l=j(o[4])+"",t,a,f,s=I(o[4])+"",u,d,i,r,c,b,z,k;return{c(){e=p("div"),n=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),i=p("div"),r=p("a"),c=B("Download"),k=F(),g(n,"class","file-name p-2"),g(f,"class","file-size p-2"),g(r,"href",b=E(o[4])),g(r,"download",z=j(o[4])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(i,"class","file-size w-3/12 p-2 hover:underline"),g(e,"class","flex flex-row w-full justify-between")},m(_,N){v(_,e,N),m(e,n),m(n,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,i),m(i,r),m(r,c),m(e,k)},p(_,N){N&1&&l!==(l=j(_[4])+"")&&U(t,l),N&1&&s!==(s=I(_[4])+"")&&U(u,s),N&1&&b!==(b=E(_[4]))&&g(r,"href",b),N&1&&z!==(z=j(_[4]))&&g(r,"download",z)},d(_){_&&w(e)}}}function ve(o){let e,n,l,t,a,f;e=new x({props:{show_label:o[2],Icon:L,label:o[1]||"File"}});const s=[be,de],u=[];function d(i,r){return i[0]?0:1}return l=d(o),t=u[l]=s[l](o),{c(){C(e.$$.fragment),n=F(),t.c(),a=K()},m(i,r){M(e,i,r),v(i,n,r),u[l].m(i,r),v(i,a,r),f=!0},p(i,[r]){const c={};r&4&&(c.show_label=i[2]),r&2&&(c.label=i[1]||"File"),e.$set(c);let b=l;l=d(i),l===b?u[l].p(i,r):(H(),A(u[b],1,1,()=>{u[b]=null}),J(),t=u[l],t?t.p(i,r):(t=u[l]=s[l](i),t.c()),D(t,1),t.m(a.parentNode,a))},i(i){f||(D(e.$$.fragment,i),D(t),f=!0)},o(i){A(e.$$.fragment,i),A(t),f=!1},d(i){S(e,i),i&&w(n),u[l].d(i),i&&w(a)}}}function we(o,e,n){let{value:l}=e,{label:t}=e,{show_label:a}=e,{file_count:f}=e;return o.$$set=s=>{"value"in s&&n(0,l=s.value),"label"in s&&n(1,t=s.label),"show_label"in s&&n(2,a=s.show_label),"file_count"in s&&n(3,f=s.file_count)},[l,t,a,f]}class ke extends T{constructor(e){super(),q(this,e,we,ve,G,{value:0,label:1,show_label:2,file_count:3})}}function X(o,e,n){const l=o.slice();return l[13]=e[n],l}function he(o){let e,n,l,t,a;n=new se({props:{absolute:!0}}),n.$on("clear",o[9]);function f(d,i){return i&1&&(t=null),t==null&&(t=!!Array.isArray(d[0])),t?Fe:Be}let s=f(o,-1),u=s(o);return{c(){e=p("div"),C(n.$$.fragment),l=F(),u.c(),g(e,"class","file-preview overflow-y-scroll w-full max-h-60 flex flex-col justify-between mt-7 mb-7 dark:text-slate-200")},m(d,i){v(d,e,i),M(n,e,null),m(e,l),u.m(e,null),a=!0},p(d,i){s===(s=f(d,i))&&u?u.p(d,i):(u.d(1),u=s(d),u&&(u.c(),u.m(e,null)))},i(d){a||(D(n.$$.fragment,d),a=!0)},o(d){A(n.$$.fragment,d),a=!1},d(d){d&&w(e),S(n),u.d()}}}function pe(o){let e,n,l;function t(f){o[11](f)}let a={filetype:"file",file_count:o[6],$$slots:{default:[je]},$$scope:{ctx:o}};return o[7]!==void 0&&(a.dragging=o[7]),e=new $({props:a}),Y.push(()=>Z(e,"dragging",t)),e.$on("load",o[8]),{c(){C(e.$$.fragment)},m(f,s){M(e,f,s),l=!0},p(f,s){const u={};s&64&&(u.file_count=f[6]),s&65550&&(u.$$scope={dirty:s,ctx:f}),!n&&s&128&&(n=!0,u.dragging=f[7],y(()=>n=!1)),e.$set(u)},i(f){l||(D(e.$$.fragment,f),l=!0)},o(f){A(e.$$.fragment,f),l=!1},d(f){S(e,f)}}}function ze(o){let e,n,l;function t(f){o[10](f)}let a={filetype:"file",$$slots:{default:[Ae]},$$scope:{ctx:o}};return o[7]!==void 0&&(a.dragging=o[7]),e=new $({props:a}),Y.push(()=>Z(e,"dragging",t)),e.$on("load",o[8]),{c(){C(e.$$.fragment)},m(f,s){M(e,f,s),l=!0},p(f,s){const u={};s&65550&&(u.$$scope={dirty:s,ctx:f}),!n&&s&128&&(n=!0,u.dragging=f[7],y(()=>n=!1)),e.$set(u)},i(f){l||(D(e.$$.fragment,f),l=!0)},o(f){A(e.$$.fragment,f),l=!1},d(f){S(e,f)}}}function Be(o){let e,n,l=j(o[0])+"",t,a,f,s=I(o[0])+"",u,d,i,r,c,b,z;return{c(){e=p("div"),n=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),i=p("div"),r=p("a"),c=B("Download"),g(n,"class","file-name p-2"),g(f,"class","file-size p-2"),g(r,"href",b=E(o[0])),g(r,"download",z=j(o[0])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(i,"class","file-size p-2 hover:underline"),g(e,"class","flex flex-row")},m(k,_){v(k,e,_),m(e,n),m(n,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,i),m(i,r),m(r,c)},p(k,_){_&1&&l!==(l=j(k[0])+"")&&U(t,l),_&1&&s!==(s=I(k[0])+"")&&U(u,s),_&1&&b!==(b=E(k[0]))&&g(r,"href",b),_&1&&z!==(z=j(k[0]))&&g(r,"download",z)},d(k){k&&w(e)}}}function Fe(o){let e,n=o[0],l=[];for(let t=0;t<n.length;t+=1)l[t]=V(X(o,n,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=K()},m(t,a){for(let f=0;f<l.length;f+=1)l[f].m(t,a);v(t,e,a)},p(t,a){if(a&1){n=t[0];let f;for(f=0;f<n.length;f+=1){const s=X(t,n,f);l[f]?l[f].p(s,a):(l[f]=V(s),l[f].c(),l[f].m(e.parentNode,e))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}},d(t){W(l,t),t&&w(e)}}}function V(o){let e,n,l=j(o[13])+"",t,a,f,s=I(o[13])+"",u,d,i,r,c,b,z,k;return{c(){e=p("div"),n=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),i=p("div"),r=p("a"),c=B("Download"),k=F(),g(n,"class","file-name w-5/12 p-2"),g(f,"class","file-size w-3/12 p-2"),g(r,"href",b=E(o[13])),g(r,"download",z=j(o[13])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(i,"class","file-size w-3/12 p-2 hover:underline"),g(e,"class","flex flex-row w-full justify-between")},m(_,N){v(_,e,N),m(e,n),m(n,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,i),m(i,r),m(r,c),m(e,k)},p(_,N){N&1&&l!==(l=j(_[13])+"")&&U(t,l),N&1&&s!==(s=I(_[13])+"")&&U(u,s),N&1&&b!==(b=E(_[13]))&&g(r,"href",b),N&1&&z!==(z=j(_[13]))&&g(r,"download",z)},d(_){_&&w(e)}}}function je(o){let e,n,l,t,a,f,s,u,d;return{c(){e=B(o[1]),n=F(),l=p("br"),t=B("- "),a=B(o[2]),f=B(" -"),s=p("br"),u=F(),d=B(o[3])},m(i,r){v(i,e,r),v(i,n,r),v(i,l,r),v(i,t,r),v(i,a,r),v(i,f,r),v(i,s,r),v(i,u,r),v(i,d,r)},p(i,r){r&2&&U(e,i[1]),r&4&&U(a,i[2]),r&8&&U(d,i[3])},d(i){i&&w(e),i&&w(n),i&&w(l),i&&w(t),i&&w(a),i&&w(f),i&&w(s),i&&w(u),i&&w(d)}}}function Ae(o){let e,n,l,t,a,f,s,u,d;return{c(){e=B(o[1]),n=F(),l=p("br"),t=B("- "),a=B(o[2]),f=B(" -"),s=p("br"),u=F(),d=B(o[3])},m(i,r){v(i,e,r),v(i,n,r),v(i,l,r),v(i,t,r),v(i,a,r),v(i,f,r),v(i,s,r),v(i,u,r),v(i,d,r)},p(i,r){r&2&&U(e,i[1]),r&4&&U(a,i[2]),r&8&&U(d,i[3])},d(i){i&&w(e),i&&w(n),i&&w(l),i&&w(t),i&&w(a),i&&w(f),i&&w(s),i&&w(u),i&&w(d)}}}function De(o){let e,n,l,t,a,f;e=new x({props:{show_label:o[5],Icon:L,label:o[4]||"File"}});const s=[ze,pe,he],u=[];function d(i,r){return i[0]===null&&i[6]==="single"?0:i[0]===null?1:2}return l=d(o),t=u[l]=s[l](o),{c(){C(e.$$.fragment),n=F(),t.c(),a=K()},m(i,r){M(e,i,r),v(i,n,r),u[l].m(i,r),v(i,a,r),f=!0},p(i,[r]){const c={};r&32&&(c.show_label=i[5]),r&16&&(c.label=i[4]||"File"),e.$set(c);let b=l;l=d(i),l===b?u[l].p(i,r):(H(),A(u[b],1,1,()=>{u[b]=null}),J(),t=u[l],t?t.p(i,r):(t=u[l]=s[l](i),t.c()),D(t,1),t.m(a.parentNode,a))},i(i){f||(D(e.$$.fragment,i),D(t),f=!0)},o(i){A(e.$$.fragment,i),A(t),f=!1},d(i){S(e,i),i&&w(n),u[l].d(i),i&&w(a)}}}function Ne(o,e,n){let{value:l}=e,{drop_text:t="Drop a file"}=e,{or_text:a="or"}=e,{upload_text:f="click to upload"}=e,{label:s=""}=e,{show_label:u}=e,{file_count:d}=e;async function i({detail:_}){n(0,l=_),await te(),c("change",l)}function r({detail:_}){n(0,l=null),c("change",l),c("clear")}const c=le();let b=!1;function z(_){b=_,n(7,b)}function k(_){b=_,n(7,b)}return o.$$set=_=>{"value"in _&&n(0,l=_.value),"drop_text"in _&&n(1,t=_.drop_text),"or_text"in _&&n(2,a=_.or_text),"upload_text"in _&&n(3,f=_.upload_text),"label"in _&&n(4,s=_.label),"show_label"in _&&n(5,u=_.show_label),"file_count"in _&&n(6,d=_.file_count)},o.$$.update=()=>{o.$$.dirty&128&&c("drag",b)},[l,t,a,f,s,u,d,b,i,r,z,k]}class Ue extends T{constructor(e){super(),q(this,e,Ne,De,G,{value:0,drop_text:1,or_text:2,upload_text:3,label:4,show_label:5,file_count:6})}}function Ce(o){let e,n;return e=new ke({props:{value:o[8],label:o[4],show_label:o[5],file_count:o[6]}}),{c(){C(e.$$.fragment)},m(l,t){M(e,l,t),n=!0},p(l,t){const a={};t&256&&(a.value=l[8]),t&16&&(a.label=l[4]),t&32&&(a.show_label=l[5]),t&64&&(a.file_count=l[6]),e.$set(a)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){S(e,l)}}}function Me(o){let e,n;return e=new Ue({props:{label:o[4],show_label:o[5],value:o[8],file_count:o[6],drop_text:o[10]("interface.drop_file"),or_text:o[10]("or"),upload_text:o[10]("interface.click_to_upload")}}),e.$on("change",o[12]),e.$on("drag",o[13]),e.$on("change",o[14]),e.$on("clear",o[15]),{c(){C(e.$$.fragment)},m(l,t){M(e,l,t),n=!0},p(l,t){const a={};t&16&&(a.label=l[4]),t&32&&(a.show_label=l[5]),t&256&&(a.value=l[8]),t&64&&(a.file_count=l[6]),t&1024&&(a.drop_text=l[10]("interface.drop_file")),t&1024&&(a.or_text=l[10]("or")),t&1024&&(a.upload_text=l[10]("interface.click_to_upload")),e.$set(a)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){S(e,l)}}}function Se(o){let e,n,l,t,a,f;const s=[o[7]];let u={};for(let c=0;c<s.length;c+=1)u=fe(u,s[c]);e=new oe({props:u});const d=[Me,Ce],i=[];function r(c,b){return c[3]==="dynamic"?0:1}return l=r(o),t=i[l]=d[l](o),{c(){C(e.$$.fragment),n=F(),t.c(),a=K()},m(c,b){M(e,c,b),v(c,n,b),i[l].m(c,b),v(c,a,b),f=!0},p(c,b){const z=b&128?ae(s,[re(c[7])]):{};e.$set(z);let k=l;l=r(c),l===k?i[l].p(c,b):(H(),A(i[k],1,1,()=>{i[k]=null}),J(),t=i[l],t?t.p(c,b):(t=i[l]=d[l](c),t.c()),D(t,1),t.m(a.parentNode,a))},i(c){f||(D(e.$$.fragment,c),D(t),f=!0)},o(c){A(e.$$.fragment,c),A(t),f=!1},d(c){S(e,c),c&&w(n),i[l].d(c),c&&w(a)}}}function Ee(o){let e,n;return e=new ue({props:{visible:o[2],variant:o[3]==="dynamic"&&o[0]===null?"dashed":"solid",color:o[9]?"green":"grey",padding:!1,elem_id:o[1],$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){C(e.$$.fragment)},m(l,t){M(e,l,t),n=!0},p(l,[t]){const a={};t&4&&(a.visible=l[2]),t&9&&(a.variant=l[3]==="dynamic"&&l[0]===null?"dashed":"solid"),t&512&&(a.color=l[9]?"green":"grey"),t&2&&(a.elem_id=l[1]),t&67577&&(a.$$scope={dirty:t,ctx:l}),e.$set(a)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){S(e,l)}}}function Ie(o,e,n){let l;ie(o,ne,h=>n(10,l=h));let{elem_id:t=""}=e,{visible:a=!0}=e,{value:f=null}=e,{mode:s}=e,{root:u}=e,{label:d}=e,{show_label:i}=e,{file_count:r}=e,{loading_status:c}=e,b,z=!1;const k=({detail:h})=>n(0,f=h),_=({detail:h})=>n(9,z=h);function N(h){O.call(this,o,h)}function ee(h){O.call(this,o,h)}return o.$$set=h=>{"elem_id"in h&&n(1,t=h.elem_id),"visible"in h&&n(2,a=h.visible),"value"in h&&n(0,f=h.value),"mode"in h&&n(3,s=h.mode),"root"in h&&n(11,u=h.root),"label"in h&&n(4,d=h.label),"show_label"in h&&n(5,i=h.show_label),"file_count"in h&&n(6,r=h.file_count),"loading_status"in h&&n(7,c=h.loading_status)},o.$$.update=()=>{o.$$.dirty&2049&&n(8,b=_e(f,u))},[f,t,a,s,d,i,r,c,b,z,l,u,k,_,N,ee]}class Ke extends T{constructor(e){super(),q(this,e,Ie,Ee,G,{elem_id:1,visible:2,value:0,mode:3,root:11,label:4,show_label:5,file_count:6,loading_status:7})}}var Qe=Ke;const Re=["static","dynamic"];export{Qe as Component,Re as modes};
